{% extends 'base.html' %}

{% load static %}

{% block title %} <title> Home </title> {% endblock %}


{% block titlecontent %}

<div class="row shadow-sm text-center" style=" margin-top: 0px; padding: 5px;  color: #00838f;">

  <h2 style="font-family: Racing Sans One;">Welcome {{ user.username }}</h2>

</div> 

{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col  m-2 p-1 text-center" style=" background-color: #01579B; box-shadow: 0px 13px 8px -8px rgba(0, 0, 0, 0.45);">
    <a style="color: #fff;"> <i class="bi bi-hourglass-split fs-5" style="color: #fff;"></i> Total Pending Task:</a>
    <h5 style="color: #fff;">{{ count }}</h5>
  </div>
  <div class="col  m-2 p-1 text-center" style=" background-color: #AA00FF; box-shadow: 0px 13px 8px -8px rgba(0, 0, 0, 0.45);">
    <a style="color: #fff;"> <i class="bi bi-hourglass-split fs-5" style="color: #fff;"></i> Total Completed Task:</a>
    <h5 style="color: #fff;">{{ count }}</h5></div>
  <div class="col m-2 p-1 text-center" style=" background-color: #00C853; box-shadow: 0px 13px 8px -8px rgba(0, 0, 0, 0.45);">
    <a style="color: #fff;"> <i class="bi bi-hourglass-split fs-5" style="color: #fff;"></i> Total Pending Task:</a>
    <h5 style="color: #fff;">{{ count }}</h5></div>
  <div class="col m-2 p-1 text-center" style=" background-color: #6200EA; box-shadow: 0px 13px 8px -8px rgba(0, 0, 0, 0.45);">
    <a style="color: #fff;"> <i class="bi bi-hourglass-split fs-5" style="color: #fff;"></i> Total Pending Task:</a>
    <h5 style="color: #fff;">{{ count }}</h5></div>
</div>

<div class="row justify-content-center">
  <div class="col m-2 " style=" box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .13), 0 1px 1px 0 rgba(0, 0, 0, .11);">
<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
  Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form class="g-3" method="get">
          {% csrf_token %}
          <div class="row">
              <div class="col-12">
                  <label for="task" class="form-label">Task</label>
                  <input type="text" value="{{task.name}}" class="form-control" id="task" placeholder="Task name"
                      name="task_name">
              </div>
          </div>
          <div class="row mt-3">
              <div class="col-lg-4">
                  <label for="client" class="form-label">Client Name</label>
                  <input type="text" value="{{task.client.name}}" class="form-control" id="client" placeholder=" name"
                      name="client">
              </div>
              <div class="col-lg-4">
                  <label for="date" class="form-label">Date</label>
                  <input type="date" value="{{task.date}}" name="date" class="form-control">
              </div>
              <div class="col-lg-4">
                  <label for="status" class="form-label">Status</label>
                  <select name="status" id="status" class="form-select">
                      <option value="0">Pending</option>
                      <option value="1">Completed</option>
  
                  </select>
              </div>
          </div>
          <div class="row mt-3">
              <div class="col-lg-4">
                  <label for="type" class="form-label">Type</label>
                  <select name="type" id="type" class="form-select">
                      <option value="01">01</option>
                      <option value="02">02</option>
  
                  </select>
              </div>
              <div class="col-lg-4">
                  <label for="time" class="form-label">Time</label>
                  <input type="number" value="{{task.time}}" class="form-control" id="time" name="time">
              </div>
  
          </div>
    
  </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

  

  </div>

  <div class="col  m-2 " style=" box-shadow: 0 2px 4px 0 rgba(0, 0, 0, .13), 0 1px 1px 0 rgba(0, 0, 0, .11);">
    <h3>Pending Task:</h3>
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Date</th>
          <th>Task</th>
          <th>Client</th>
          <th>Type</th>
          <th>Time</th>
          <th>action</th>
          <th>User</th>
        </tr>
      </thead>
      <tbody>
        {% for task in all_tasks %}
        <tr>
          <td>{{ task.date.day}}</td>
          <td>{{ task.name }}</td>
          <td>{{ task.client.name}}</td>
          <td>{{ task.type}}</td>
          <td>{{ task.time}}</td>
          <td>{{ task.user }}</td>
          <td>
            {% if task.status == "0" %}

            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="editTask('{{task.id}}')">
              Launch demo modal
            </button>
            {% elif task.status == "1" %}
            <a type="text">no edit</a>
            {% endif %}
          </td>
        </tr>

        {% endfor %}
      </tbody>
    </table>
  </div>

</div>
<div class="row justify-content-center">
  <div class="col  m-2 " style="overflow-x: scroll; box-shadow: 0 1px 1px rgba(0,0,0,0.12), 0 2px 2px rgba(0,0,0,0.12);">
    <table class="table table-hover">
      <thead>
        <tr>
       
          <th>Task</th>
          <th>Client</th>
          <th>Status</th>
          <th>Type</th>
          <th>Time</th>
          <th>action</th>
          <th>User</th>
        </tr>
      </thead>
      <tbody>
        {% for tas in taskfl %}
        <tr>

          <td>{{ tas.name }}</td>
          <td>{{ tas.client.name}}</td>
          <td>
            {% if tas.status == "0" %}

            <a type="text">pending</a>
            {% elif tas.status == "1" %}
            <a type="text">completed</a>
            {% endif %}
          </td>
          <td>{{ tas.type}}</td>
          <td>{{ tas.time}}</td>
          <td>{{ tas.user }}</td>
          <td>
            {% if tas.status == "0" %}

            <a href="{% url 'edit_task'  task_id=tas.id %}" type="button" class="btn btn-light"
              style="color: #00838f;">edit</a>
            {% elif tas.status == "1" %}
            <a type="text">no edit</a>
            {% endif %}
          </td>
        </tr>

        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="col  m-2 " style="overflow-x: scroll; box-shadow: 0 1px 1px rgba(0,0,0,0.12), 0 2px 2px rgba(0,0,0,0.12);">
   

  </div>

</div>


{% endblock%}